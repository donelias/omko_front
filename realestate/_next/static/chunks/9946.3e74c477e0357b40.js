"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9946],{84817:function(e,s,a){var l=a(85893),i=a(67294),d=a(37054),t=a(61026);s.Z=e=>{let{onLocationSelected:s,initialLatitude:a,initialLongitude:n,clearfilterLocation:o}=e,c=(0,i.useRef)(),{isLoaded:r}=(0,t._V)(),[u,m]=(0,i.useState)(""),[h,v]=(0,i.useState)(a||null),[_,f]=(0,i.useState)(n||null),[p,x]=(0,i.useState)({name:"",formatted_address:"",lat:null,lng:null,city:"",district:"",state:"",country:""});(0,i.useEffect)(()=>{a&&n&&j(a,n)},[a,n]),(0,i.useEffect)(()=>{o&&!0===o&&m("")},[o]),(0,i.useEffect)(()=>{h&&_&&j(h,_)},[h,_]),(0,i.useEffect)(()=>{window.google},[r]);let j=async(e,a)=>{if(!e||!a)return;let l="https://maps.googleapis.com/maps/api/geocode/json?latlng=".concat(e,",").concat(a,"&key=").concat("AIzaSyCZ-Jq3Sp0xhv2tDlgSzRjgOukyd-Okw-w");try{let i=await fetch(l);if(!i.ok)throw Error("Geocoding API request failed with status: ".concat(i.status));let d=await i.json();if("OK"===d.status&&d.results.length>0){let l=d.results[0],i={name:l.name,formatted_address:l.formatted_address,lat:e,lng:a,city:"",district:"",state:"",country:""};l.address_components.forEach(e=>{e.types.includes("locality")?i.city=e.long_name:e.types.includes("sublocality")?i.district=e.long_name:e.types.includes("administrative_area_level_1")?i.state=e.long_name:e.types.includes("country")&&(i.country=e.long_name)}),x(i),s(i),m(i.formatted_address)}else console.error("No results found for the provided coordinates.")}catch(e){console.error("Error fetching location data:",e)}};return r&&(0,l.jsx)("div",{children:(0,l.jsx)(d.Zk,{onLoad:e=>c.current=e,onPlacesChanged:()=>{let[e]=c.current.getPlaces();if(e){let a={name:e.name,formatted_address:e.formatted_address,lat:e.geometry.location.lat(),lng:e.geometry.location.lng(),city:"",district:"",state:"",country:""};e.address_components.forEach(e=>{e.types.includes("locality")?a.city=e.long_name:e.types.includes("sublocality")?a.district=e.long_name:e.types.includes("administrative_area_level_1")?a.state=e.long_name:e.types.includes("country")&&(a.country=e.long_name)}),x(a),s(a),m(a.formatted_address)}},children:(0,l.jsx)("input",{type:"text",className:"searchLocationInput",placeholder:(0,t.Iu)("enterLocation"),onKeyPress:e=>{"Enter"===e.key&&e.preventDefault()},onChange:e=>{m(e.target.value)},value:u})})})}},79946:function(e,s,a){a.r(s);var l=a(85893),i=a(67294),d=a(5152),t=a.n(d),n=a(9473),o=a(1927),c=a(84817),r=a(9559),u=a(77134),m=a(11163),h=a(86501),v=a(61026),_=a(78944),f=a(25675),p=a.n(f),x=a(86455),j=a.n(x),g=a(9973);let N=t()(()=>Promise.all([a.e(5937),a.e(6152),a.e(7653),a.e(383),a.e(4881),a.e(8154),a.e(2764),a.e(6327),a.e(6288),a.e(3141),a.e(7341)]).then(a.bind(a,33141)),{ssr:!1});s.default=()=>{var e;let{requestNotificationPermission:s}=(0,g.Z)(),a=(0,n.v9)(e=>e.User_signup),d=null==a?void 0:null===(e=a.data)||void 0===e?void 0:e.data,t=(0,m.useRouter)(),f=(0,n.v9)(o.Ae),[x,y]=(0,i.useState)({fullName:null==d?void 0:d.name,email:null==d?void 0:d.email,phoneNumber:null==d?void 0:d.mobile,address:null==d?void 0:d.address,aboutMe:null==d?void 0:d.about_me,facebook:null==d?void 0:d.facebook_id,instagram:null==d?void 0:d.instagram_id,youtube:null==d?void 0:d.youtube_id,twiiter:null==d?void 0:d.twiiter_id,profileImage:null==d?void 0:d.profile,notification:(null==d?void 0:d.notification)==="1"||(null==d?void 0:d.notification)===1}),b=(0,i.useRef)(null),[I,w]=(0,i.useState)((null==d?void 0:d.profile)||null),k=(0,n.v9)(_.iT);(0,i.useEffect)(()=>{},[k]);let C=(0,n.v9)(o.vV),E=null==C?void 0:C.web_placeholder_logo,L=e=>{let{name:s,value:a}=e.target;y({...x,[s]:a})};return(0,l.jsx)(N,{children:(0,l.jsxs)("div",{className:"container",children:[(0,l.jsx)("div",{className:"dashboard_titles",children:(0,l.jsx)("h3",{children:(0,v.Iu)("myProfile")})}),(0,l.jsx)("div",{className:"profile_card",children:(0,l.jsx)("form",{children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6",children:(0,l.jsxs)("div",{className:"card",id:"personal_info_card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{children:(0,v.Iu)("personalInfo")})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsxs)("div",{className:"add_profile_div",children:[(0,l.jsx)("div",{className:"image_div",children:(0,l.jsx)(p(),{loading:"lazy",src:I||E,alt:"no_img",width:200,height:200,onError:v.jM})}),(0,l.jsxs)("div",{className:"add_profile",children:[(0,l.jsx)("input",{type:"file",accept:"image/jpeg, image/png",id:"add_img",ref:b,style:{display:"none"},onChange:e=>{let s=e.target.files[0];if(s){let e=new FileReader;e.onload=e=>{y({...x,profileImage:s}),w(e.target.result)},e.readAsDataURL(s)}}}),(0,l.jsx)("button",{type:"button",onClick:()=>{b.current.click()},children:(0,v.Iu)("uploadImg")}),(0,l.jsx)("p",{children:(0,v.Iu)("Note:")})]})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("fullName")}),(0,l.jsx)("input",{type:"text",className:"add_user_fields",name:"fullName",placeholder:(0,v.Iu)("enterFullName"),value:x.fullName,onChange:L})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsxs)("span",{htmlFor:"notification",children:[(0,v.Iu)("notification")," "]}),(0,l.jsxs)("span",{className:"switch mt-2",children:[(0,l.jsx)("input",{id:"switch-rounded",type:"checkbox",checked:x.notification,onChange:()=>{y(e=>({...e,notification:!e.notification})),x.notification||""===f||s()}}),(0,l.jsx)("label",{htmlFor:"switch-rounded"})]})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("email")}),(0,l.jsx)("input",{readOnly:(null==d?void 0:d.logintype)==="0",type:"text",className:"add_user_fields",name:"email",placeholder:(0,v.Iu)("enterEmail"),value:x.email,onChange:L})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("phoneNumber")}),(0,l.jsx)("input",{readOnly:(null==d?void 0:d.logintype)==="1",type:"text",className:"add_user_fields",name:"phoneNumber",placeholder:(0,v.Iu)("enterPhonenumber"),value:x.phoneNumber,onChange:e=>{let s=e.target.value;/^\d*$/.test(s)&&y({...x,phoneNumber:s})}})]})}),(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("location")}),(0,l.jsx)(c.Z,{onLocationSelected:e=>{y({...x,selectedLocation:e})},initialLatitude:null==d?void 0:d.latitude,initialLongitude:null==d?void 0:d.longitude})]})}),(0,l.jsx)("div",{className:"col-sm-12",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("address")}),(0,l.jsx)("textarea",{rows:4,className:"add_user_fields",name:"address",placeholder:(0,v.Iu)("enterAddress"),value:x.address,onChange:L})]})})]})})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-12 col-lg-6",children:(0,l.jsxs)("div",{className:"card",id:"about_me_card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{children:(0,v.Iu)("aboutMe")})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("aboutMe")}),(0,l.jsx)("textarea",{rows:21,className:"add_user_fields",name:"aboutMe",placeholder:(0,v.Iu)("tellus"),value:x.aboutMe,onChange:L})]})})]})}),(0,l.jsxs)("div",{className:"col-12",children:[(0,l.jsxs)("div",{className:"card",id:"social_media_card",children:[(0,l.jsx)("div",{className:"card-header",children:(0,l.jsx)("h4",{children:(0,v.Iu)("socialMedia")})}),(0,l.jsx)("div",{className:"card-body",children:(0,l.jsxs)("div",{className:"row",children:[(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("facebook")}),(0,l.jsx)("input",{type:"text",className:"add_user_fields",name:"facebook",placeholder:(0,v.Iu)("Enter Facebook URL"),value:x.facebook,onChange:L})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("insta")}),(0,l.jsx)("input",{type:"text",className:"add_user_fields",name:"instagram",placeholder:(0,v.Iu)("Enter Instagram URL"),value:x.instagram,onChange:L})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("youtube")}),(0,l.jsx)("input",{type:"text",className:"add_user_fields",name:"youtube",placeholder:(0,v.Iu)("Enter Youtube URL"),value:x.youtube,onChange:L})]})}),(0,l.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,l.jsxs)("div",{className:"add_user_fields_div",children:[(0,l.jsx)("span",{children:(0,v.Iu)("twitter")}),(0,l.jsx)("input",{type:"text",className:"add_user_fields",name:"twiiter",placeholder:(0,v.Iu)("Enter LinkedIn URL"),value:x.twiiter,onChange:L})]})})]})})]}),(0,l.jsx)("div",{className:"col-12",children:(0,l.jsx)("div",{className:"submit_div",children:(0,l.jsx)("button",{type:"submit",onClick:e=>{var s,a,l,i,d;if(e.preventDefault(),C.demo_mode)return j().fire({title:"Oops!",text:(0,v.Iu)("notAllowdDemo"),icon:"warning",showCancelButton:!1,customClass:{confirmButton:"Swal-confirm-buttons",cancelButton:"Swal-cancel-buttons"},confirmButtonText:(0,v.Iu)("ok")}),!1;(0,r.TY)({name:x.fullName,email:x.email,mobile:x.phoneNumber,address:x.address,profile:x.profileImage,latitude:null===(s=x.selectedLocation)||void 0===s?void 0:s.lat,longitude:null===(a=x.selectedLocation)||void 0===a?void 0:a.lng,about_me:x.aboutMe||"",facebook_id:x.facebook||"",twiiter_id:x.twiiter||"",instagram_id:x.instagram||"",youtube_id:x.youtube||"",fcm_id:f||"",notification:x.notification?"1":"0",city:null===(l=x.selectedLocation)||void 0===l?void 0:l.city,state:null===(i=x.selectedLocation)||void 0===i?void 0:i.state,country:null===(d=x.selectedLocation)||void 0===d?void 0:d.country,onSuccess:e=>{h.ZP.success((0,v.Iu)("profileupdate")),(0,u.AJ)(e.data),t.push("/"),y({fullName:"",email:"",phoneNumber:"",address:"",aboutMe:"",facebook:"",instagram:"",youtube:"",twiiter:""})},onError:e=>{h.ZP.error(e)}})},children:(0,v.Iu)("updateProfile")})})})]})]})})})]})})}}}]);