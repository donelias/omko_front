"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9618],{92641:function(e,c,s){s.d(c,{t:function(){return l}});var a=s(85893);s(1927);var i=s(67294);s(9473);let l=e=>{let{imageUrl:c,className:s}=e,[l,t]=(0,i.useState)("");return(0,i.useEffect)(()=>{(async()=>{try{let e=await fetch(c),s=(await e.text()).replace(/<defs>([\s\S]*?)<\/defs>/,"");t(s)}catch(e){console.error("Error converting image to SVG:",e)}})()},[c]),(0,a.jsx)("div",{className:s,dangerouslySetInnerHTML:{__html:l}})}},49618:function(e,c,s){s.r(c);var a=s(85893),i=s(2149),l=s(61026),t=s(5152),r=s.n(t);s(25675);var n=s(67294),o=s(9473);s(92641);var d=s(9559),u=s(1927),m=s(37054),p=s(7998),h=s(78542),x=s(86501),y=s(11163),_=s(21409);let v=r()(()=>Promise.all([s.e(5937),s.e(6152),s.e(8166),s.e(7653),s.e(383),s.e(4881),s.e(8154),s.e(2764),s.e(6327),s.e(6288),s.e(3141),s.e(241)]).then(s.bind(s,33141)),{ssr:!1});c.default=()=>{let e=(0,o.v9)(u.vV),c=e&&e.currency_symbol,s=e&&e.max_price,t=(0,y.useRouter)(),r=(0,o.v9)(i.A3),[j,g]=(0,n.useState)([]),[f,N]=(0,n.useState)(null),[b,I]=(0,n.useState)([0,s]),[k,C]=(0,n.useState)({category:[],facility:[],property_type:"",latitude:"",longitude:"",city:"",state:"",country:"",address:"",max_price:"",min_price:""}),P=()=>{(0,d.Cc)({onSuccess:e=>{if(e.data){let{category_ids:c,price_range:s,property_type:a,outdoor_facilitiy_ids:i,city:l}=e.data,t=parseInt(s[0]),r=parseInt(s[1]),n=c&&c.map(e=>parseInt(e)),o=i&&i.map(e=>parseInt(e)),d="";a&&a.includes("0")&&a.includes("1")?d="":a.includes("0")?d="0":a.includes("1")&&(d="1"),C({...k,min_price:s?s[0]:"",max_price:s?s[1]:"",property_type:d,city:l||"",category:n,facility:o}),I([t,r])}},onError:e=>{console.log(e)}})},E=()=>{(0,d.dG)(e=>{g(e&&e.data)},e=>{console.log(e)})};(0,n.useEffect)(()=>{P()},[]),(0,n.useEffect)(()=>{E()},[]),(0,n.useEffect)(()=>{},[k]);let S=e=>{let c=k.category.includes(e)?k.category.filter(c=>c!==e):[...k.category,e];C({...k,category:c})},w=e=>{let c=k.facility.includes(e)?k.facility.filter(c=>c!==e):[...k.facility,e];C({...k,facility:c})},Z=e=>{e.preventDefault();let{name:c,value:s}=e.target,a=k.min_price,i=k.max_price;C(e=>({...e,[c]:s})),"city"===c&&C(e=>({...e,address:s})),"min_price"===c?a=parseInt(s)||0:"max_price"===c&&(i=parseInt(s)||0),I([a,i])},F=(e,c)=>{let s=e.find(e=>e.types.includes(c));return s?s.long_name:""},R=e=>{C({...k,property_type:e})};(0,n.useEffect)(()=>{},[k]);let z="".concat(c).concat(b[0]," to ").concat(c).concat(b[1]),T=()=>{C({category:[],facility:[],property_type:"",latitude:"",longitude:"",city:"",state:"",country:"",address:"",max_price:"",min_price:""}),I([0,s])};return(0,n.useEffect)(()=>{},[k]),(0,a.jsx)(v,{children:(0,a.jsxs)("div",{className:"container",children:[(0,a.jsx)("div",{className:"dashboard_titles",children:(0,a.jsx)("h3",{children:(0,l.Iu)("personalizeFeed")})}),(0,a.jsxs)("div",{className:"personalize_card card",children:[r&&r.length>0&&(0,a.jsxs)("div",{className:"category_section",children:[(0,a.jsx)("h5",{children:(0,l.Iu)("chooseYourIntrest")}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"all_categories",children:null==r?void 0:r.map((e,c)=>(0,a.jsxs)("div",{className:"custom-checkbox",children:[(0,a.jsx)("input",{type:"checkbox",id:"checkbox_category_".concat(null==e?void 0:e.id,"_").concat(c),className:"custom-checkbox-input",checked:null==k?void 0:k.category.includes(e.id),onChange:()=>S(e.id)}),(0,a.jsxs)("label",{htmlFor:"checkbox_category_".concat(null==e?void 0:e.id,"_").concat(c),className:"custom-checkbox-label",children:[(null==k?void 0:k.category.includes(e.id))&&(0,a.jsx)(_.ReY,{className:"checked-icon",size:18}),e.category]})]},c))})]}),j&&j.length>0&&(0,a.jsxs)("div",{className:"facility_section",children:[(0,a.jsx)("h5",{children:(0,l.Iu)("choosenearbyplaces")}),(0,a.jsx)("p",{children:(0,l.Iu)("GetRecommendationLocations")}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"all_facility",children:null==j?void 0:j.map((e,c)=>(0,a.jsxs)("div",{className:"custom-checkbox",children:[(0,a.jsx)("input",{type:"checkbox",id:"checkbox_facility_".concat(null==e?void 0:e.id,"_").concat(c),className:"custom-checkbox-input",checked:k.facility.includes(e.id),onChange:()=>w(e.id)}),(0,a.jsxs)("label",{htmlFor:"checkbox_facility_".concat(null==e?void 0:e.id,"_").concat(c),className:"custom-checkbox-label",children:[k.facility.includes(e.id)&&(0,a.jsx)(_.ReY,{className:"checked-icon",size:20}),e.name]})]},c))})]}),(0,a.jsxs)("div",{className:"location_section",children:[(0,a.jsx)("h5",{children:(0,l.Iu)("youPreferredCity")}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"location_and_type",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,a.jsxs)("div",{className:"add_prop_fields",children:[(0,a.jsx)("span",{children:(0,l.Iu)("city")}),(0,a.jsx)(m.F2,{onLoad:e=>N(e),onPlaceChanged:()=>{let e=f.getPlace();if(e&&e.address_components){let c=F(e.address_components,"locality"),s=F(e.address_components,"administrative_area_level_1"),a=F(e.address_components,"country"),i=e.geometry.location.lat(),l=e.geometry.location.lng(),t=e.formatted_address;C(e=>({...e,city:c,state:s,country:a,latitude:i,longitude:l,address:t}))}},children:(0,a.jsx)("input",{type:"text",style:{width:"100%"},id:"prop_title_input",placeholder:(0,l.Iu)("searchCity"),name:"city",value:k.city,onChange:e=>Z(e)})})]})}),(0,a.jsx)("div",{className:"col-sm-12 col-md-6",children:(0,a.jsxs)("div",{className:"add_prop_fields",children:[(0,a.jsx)("span",{children:(0,l.Iu)("propTypes")}),(0,a.jsxs)("select",{className:"form-select categories","aria-label":"Default select",name:"property_type",value:k.property_type,onChange:e=>R(e.target.value),children:[(0,a.jsx)("option",{value:"",children:(0,l.Iu)("all")}),(0,a.jsx)("option",{value:"0",children:(0,l.Iu)("sell")}),(0,a.jsx)("option",{value:"1",children:(0,l.Iu)("rent")})]})]})})]})})]}),(0,a.jsxs)("div",{className:"range_section",children:[(0,a.jsx)("h5",{children:(0,l.Iu)("theBudgetForTheProperty")}),(0,a.jsx)("hr",{}),(0,a.jsx)("div",{className:"range",children:(0,a.jsxs)("div",{className:"budget-price",children:[(0,a.jsx)("span",{children:(0,l.Iu)("budget")}),(0,a.jsx)("div",{className:"budget-price-inputs mt-2",children:(0,a.jsxs)("div",{className:"row",children:[(0,a.jsx)("div",{className:"col-sm-12 col-md-3",children:(0,a.jsx)(p.Z,{className:"price-input",type:"number",placeholder:(0,l.Iu)("minPrice"),name:"min_price",value:k.min_price,onChange:Z,prefix:c})}),(0,a.jsx)("div",{className:"col-sm-12 col-md-3",children:(0,a.jsx)(p.Z,{className:"price-input",type:"number",placeholder:(0,l.Iu)("maxPrice"),name:"max_price",value:k.max_price,onChange:Z,prefix:c})})]})}),(0,a.jsxs)("div",{className:"slider_div",children:[(0,a.jsxs)("div",{className:"priceText",children:[z&&(0,a.jsxs)("span",{children:[(0,l.Iu)("Price Range:")," ","",(0,a.jsx)("span",{className:"priceRangetext",children:z})]}),(0,a.jsx)(h.Z,{range:!0,min:0,max:parseInt(s),value:b,onChange:e=>{if(I(e),e[0]>e[1]){x.ZP.error("The maximum price cannot be less than the minimum price.");return}C({...k,min_price:e[0],max_price:e[1]})},style:{width:"100%"},className:"customSlider"})]}),(0,a.jsxs)("div",{className:"personalizeFeed_submit",children:[(0,a.jsx)("button",{onClick:e=>{e.preventDefault(),(0,d.KZ)({onSuccess:e=>{x.ZP.success(e.message),T()},onError:e=>{console.log(e)}})},className:"clear",children:(0,l.Iu)("clear")}),(0,a.jsx)("button",{onClick:e=>{if(e.preventDefault(),k.min_price&&!k.max_price){x.ZP.error("Please fill in the maximum price.");return}let c=[k.min_price,k.max_price].join(",");(0,d.M2)({category_ids:null==k?void 0:k.category,outdoor_facilitiy_ids:null==k?void 0:k.facility,city:null==k?void 0:k.city,price_range:c,property_type:null==k?void 0:k.property_type,onSuccess:e=>{x.ZP.success(e.message),t.push("/")},onError:e=>{console.log(e)}})},className:"submit",children:(0,l.Iu)("submit")})]})]})]})})]})]})]})})}}}]);